{
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "body": "经典的四则运算的BNF范式如下：\r\n```bnf\r\nexpression: term   { (\"+\" | \"-\") term }\r\nterm:       factor { (\"*\" | \"/\") factor }\r\nfactor:     NUMBER | \"(\" expression \")\" | - factor\r\n```\r\n不少书上都是这么写的，但是实际在设计语言的时候，运算符是非常多的，我略微完善了一下运算符的，写出的BNF范式如下：\r\n```bnf\r\nexpression      : term   { (\"+\" | \"-\" | \"==\" | \">\" | \">=\" | \"<\" | \"<=\" | \"&&\" | \"||\" | \"!\") term }\r\nterm            : factor { (\"*\" | \"/\" | \"%\") factor }\r\nfactor          : NUMBER | IDENTIFIER | BOOL | \"(\" expression \")\" | - factor | ! factor\r\n```\r\n里面涉及到的符号实在太多（而且还没处理好符号的优先级），虽然可以很简单的按照优先级进行拆分，但是这样形成的BNF范式太长太丑了，不知道大家有没有比较好的设计方法？\r\n\r\n谈及到优先级问题，大家有没有考虑过放弃运算符的优先级，直接按照从左到右的模式进行设计，需要优先级的地方自己加()，不知道这样如何。",
    "closed_at": "2019-07-17T08:51:04Z",
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "[之前](https://zhuanlan.zhihu.com/p/32939695)我的作业也是类似，支持了`'×'|'÷'`所以会更长：\r\n```\r\n表达式: 求积表达式 (('+'|'-') 求积表达式)*;\r\n\r\n求积表达式: 最小表达式 (('*'|'/'|'×'|'÷') 最小表达式)*;\r\n\r\n最小表达式\r\n  : 字面量\r\n  | '(' 表达式 ')'\r\n  ;\r\n\r\n字面量\r\n  : T数\r\n  | T变量名\r\n  ;\r\n```\r\n[Python语法定义这里](https://github.com/antlr/grammars-v4/blob/790d9882e90f189821ff6e302768678a272c4a8d/python3/Python3.g4#L217)也是按优先级拆分。看起来还好吧。\r\n\r\n关于优先级，个人觉得要考虑到大多数用户的情况，国内应该小学二年级就开始四则运算，而且着重强调了运算优先级（待确定，手边没有最新的教材）。如果是这样的话，如果语言设计和用户的习惯思维抵触太大，恐怕因此导致的无心的语义错误会太过频繁。\r\n",
            "created_at": "2019-07-16T21:20:37Z",
            "html_url": "https://github.com/program-in-chinese/overview/issues/164#issuecomment-511992269",
            "id": 511992269,
            "issue_url": "https://api.github.com/repos/program-in-chinese/overview/issues/164",
            "node_id": "MDEyOklzc3VlQ29tbWVudDUxMTk5MjI2OQ==",
            "updated_at": "2019-07-16T21:20:37Z",
            "url": "https://api.github.com/repos/program-in-chinese/overview/issues/comments/511992269",
            "user": {
                "avatar_url": "https://avatars1.githubusercontent.com/u/392497?v=4",
                "events_url": "https://api.github.com/users/nobodxbodon/events{/privacy}",
                "followers_url": "https://api.github.com/users/nobodxbodon/followers",
                "following_url": "https://api.github.com/users/nobodxbodon/following{/other_user}",
                "gists_url": "https://api.github.com/users/nobodxbodon/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nobodxbodon",
                "id": 392497,
                "login": "nobodxbodon",
                "node_id": "MDQ6VXNlcjM5MjQ5Nw==",
                "organizations_url": "https://api.github.com/users/nobodxbodon/orgs",
                "received_events_url": "https://api.github.com/users/nobodxbodon/received_events",
                "repos_url": "https://api.github.com/users/nobodxbodon/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nobodxbodon/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nobodxbodon/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nobodxbodon"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "@nobodxbodon 感谢，我来研究下",
            "created_at": "2019-07-17T08:50:26Z",
            "html_url": "https://github.com/program-in-chinese/overview/issues/164#issuecomment-512164159",
            "id": 512164159,
            "issue_url": "https://api.github.com/repos/program-in-chinese/overview/issues/164",
            "node_id": "MDEyOklzc3VlQ29tbWVudDUxMjE2NDE1OQ==",
            "updated_at": "2019-07-17T08:50:26Z",
            "url": "https://api.github.com/repos/program-in-chinese/overview/issues/comments/512164159",
            "user": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/2688923?v=4",
                "events_url": "https://api.github.com/users/luoyou/events{/privacy}",
                "followers_url": "https://api.github.com/users/luoyou/followers",
                "following_url": "https://api.github.com/users/luoyou/following{/other_user}",
                "gists_url": "https://api.github.com/users/luoyou/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luoyou",
                "id": 2688923,
                "login": "luoyou",
                "node_id": "MDQ6VXNlcjI2ODg5MjM=",
                "organizations_url": "https://api.github.com/users/luoyou/orgs",
                "received_events_url": "https://api.github.com/users/luoyou/received_events",
                "repos_url": "https://api.github.com/users/luoyou/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luoyou/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luoyou/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luoyou"
            }
        }
    ],
    "comments": 2,
    "comments_url": "https://api.github.com/repos/program-in-chinese/overview/issues/164/comments",
    "created_at": "2019-07-16T15:54:44Z",
    "event_data": [
        {
            "actor": {
                "avatar_url": "https://avatars1.githubusercontent.com/u/392497?v=4",
                "events_url": "https://api.github.com/users/nobodxbodon/events{/privacy}",
                "followers_url": "https://api.github.com/users/nobodxbodon/followers",
                "following_url": "https://api.github.com/users/nobodxbodon/following{/other_user}",
                "gists_url": "https://api.github.com/users/nobodxbodon/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nobodxbodon",
                "id": 392497,
                "login": "nobodxbodon",
                "node_id": "MDQ6VXNlcjM5MjQ5Nw==",
                "organizations_url": "https://api.github.com/users/nobodxbodon/orgs",
                "received_events_url": "https://api.github.com/users/nobodxbodon/received_events",
                "repos_url": "https://api.github.com/users/nobodxbodon/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nobodxbodon/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nobodxbodon/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nobodxbodon"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2019-07-17T08:50:26Z",
            "event": "mentioned",
            "id": 2488670265,
            "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MjQ4ODY3MDI2NQ==",
            "url": "https://api.github.com/repos/program-in-chinese/overview/issues/events/2488670265"
        },
        {
            "actor": {
                "avatar_url": "https://avatars1.githubusercontent.com/u/392497?v=4",
                "events_url": "https://api.github.com/users/nobodxbodon/events{/privacy}",
                "followers_url": "https://api.github.com/users/nobodxbodon/followers",
                "following_url": "https://api.github.com/users/nobodxbodon/following{/other_user}",
                "gists_url": "https://api.github.com/users/nobodxbodon/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nobodxbodon",
                "id": 392497,
                "login": "nobodxbodon",
                "node_id": "MDQ6VXNlcjM5MjQ5Nw==",
                "organizations_url": "https://api.github.com/users/nobodxbodon/orgs",
                "received_events_url": "https://api.github.com/users/nobodxbodon/received_events",
                "repos_url": "https://api.github.com/users/nobodxbodon/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nobodxbodon/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nobodxbodon/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nobodxbodon"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2019-07-17T08:50:26Z",
            "event": "subscribed",
            "id": 2488670266,
            "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDI0ODg2NzAyNjY=",
            "url": "https://api.github.com/repos/program-in-chinese/overview/issues/events/2488670266"
        },
        {
            "actor": {
                "avatar_url": "https://avatars0.githubusercontent.com/u/2688923?v=4",
                "events_url": "https://api.github.com/users/luoyou/events{/privacy}",
                "followers_url": "https://api.github.com/users/luoyou/followers",
                "following_url": "https://api.github.com/users/luoyou/following{/other_user}",
                "gists_url": "https://api.github.com/users/luoyou/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/luoyou",
                "id": 2688923,
                "login": "luoyou",
                "node_id": "MDQ6VXNlcjI2ODg5MjM=",
                "organizations_url": "https://api.github.com/users/luoyou/orgs",
                "received_events_url": "https://api.github.com/users/luoyou/received_events",
                "repos_url": "https://api.github.com/users/luoyou/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/luoyou/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/luoyou/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/luoyou"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2019-07-17T08:51:04Z",
            "event": "closed",
            "id": 2488672114,
            "node_id": "MDExOkNsb3NlZEV2ZW50MjQ4ODY3MjExNA==",
            "url": "https://api.github.com/repos/program-in-chinese/overview/issues/events/2488672114"
        },
        {
            "actor": {
                "avatar_url": "https://avatars1.githubusercontent.com/u/392497?v=4",
                "events_url": "https://api.github.com/users/nobodxbodon/events{/privacy}",
                "followers_url": "https://api.github.com/users/nobodxbodon/followers",
                "following_url": "https://api.github.com/users/nobodxbodon/following{/other_user}",
                "gists_url": "https://api.github.com/users/nobodxbodon/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nobodxbodon",
                "id": 392497,
                "login": "nobodxbodon",
                "node_id": "MDQ6VXNlcjM5MjQ5Nw==",
                "organizations_url": "https://api.github.com/users/nobodxbodon/orgs",
                "received_events_url": "https://api.github.com/users/nobodxbodon/received_events",
                "repos_url": "https://api.github.com/users/nobodxbodon/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nobodxbodon/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nobodxbodon/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nobodxbodon"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2019-07-17T08:51:04Z",
            "event": "mentioned",
            "id": 2488672119,
            "node_id": "MDE0Ok1lbnRpb25lZEV2ZW50MjQ4ODY3MjExOQ==",
            "url": "https://api.github.com/repos/program-in-chinese/overview/issues/events/2488672119"
        },
        {
            "actor": {
                "avatar_url": "https://avatars1.githubusercontent.com/u/392497?v=4",
                "events_url": "https://api.github.com/users/nobodxbodon/events{/privacy}",
                "followers_url": "https://api.github.com/users/nobodxbodon/followers",
                "following_url": "https://api.github.com/users/nobodxbodon/following{/other_user}",
                "gists_url": "https://api.github.com/users/nobodxbodon/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nobodxbodon",
                "id": 392497,
                "login": "nobodxbodon",
                "node_id": "MDQ6VXNlcjM5MjQ5Nw==",
                "organizations_url": "https://api.github.com/users/nobodxbodon/orgs",
                "received_events_url": "https://api.github.com/users/nobodxbodon/received_events",
                "repos_url": "https://api.github.com/users/nobodxbodon/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nobodxbodon/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nobodxbodon/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nobodxbodon"
            },
            "commit_id": null,
            "commit_url": null,
            "created_at": "2019-07-17T08:51:04Z",
            "event": "subscribed",
            "id": 2488672120,
            "node_id": "MDE1OlN1YnNjcmliZWRFdmVudDI0ODg2NzIxMjA=",
            "url": "https://api.github.com/repos/program-in-chinese/overview/issues/events/2488672120"
        }
    ],
    "events_url": "https://api.github.com/repos/program-in-chinese/overview/issues/164/events",
    "html_url": "https://github.com/program-in-chinese/overview/issues/164",
    "id": 468735631,
    "labels": [],
    "labels_url": "https://api.github.com/repos/program-in-chinese/overview/issues/164/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU0Njg3MzU2MzE=",
    "number": 164,
    "repository_url": "https://api.github.com/repos/program-in-chinese/overview",
    "state": "closed",
    "title": "BNF 范式如何设计运算符的优先级？",
    "updated_at": "2019-07-17T08:51:10Z",
    "url": "https://api.github.com/repos/program-in-chinese/overview/issues/164",
    "user": {
        "avatar_url": "https://avatars0.githubusercontent.com/u/2688923?v=4",
        "events_url": "https://api.github.com/users/luoyou/events{/privacy}",
        "followers_url": "https://api.github.com/users/luoyou/followers",
        "following_url": "https://api.github.com/users/luoyou/following{/other_user}",
        "gists_url": "https://api.github.com/users/luoyou/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/luoyou",
        "id": 2688923,
        "login": "luoyou",
        "node_id": "MDQ6VXNlcjI2ODg5MjM=",
        "organizations_url": "https://api.github.com/users/luoyou/orgs",
        "received_events_url": "https://api.github.com/users/luoyou/received_events",
        "repos_url": "https://api.github.com/users/luoyou/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/luoyou/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/luoyou/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/luoyou"
    }
}