{
    "assignee": null,
    "assignees": [],
    "author_association": "MEMBER",
    "body": "欢迎加入“方舟编译器中文化”qq群（313105842）。讨论内容大概包括：\r\n- 汉化文档\r\n- 在代码中添加中文注释（[官网issue](https://code.opensource.huaweicloud.com/HarmonyOS/OpenArkCompiler/issues/124)）\r\n- 补充测试集 （[官网issue](https://code.opensource.huaweicloud.com/HarmonyOS/OpenArkCompiler/issues/112)）\r\n- 例程的标识符/字符串，检验对Unicode的支持\r\n- 汉化编译器编译信息（[参考](https://zhuanlan.zhihu.com/p/57079638)）\r\n- 汉化编译器标识符 （[参考](https://zhuanlan.zhihu.com/p/50726829) ）\r\n- 汉化语言关键字（[参考](https://zhuanlan.zhihu.com/p/42442463) ）\r\n\r\n以及开发上述过程中的辅助工具。在此过程中，尽可能多与官方代码库互动。\r\n\r\n各种平台下对方舟编译器源码编译的结果[在此](https://gitee.com/Program-in-Chinese/ark-compiler-source-code-build-environment#only_comment_project)",
    "closed_at": null,
    "comment_data": [
        {
            "author_association": "MEMBER",
            "body": "根据[统计](https://www.zhihu.com/question/343846120/answer/810929600), 当前开放的代码行数在十万之内，排除`src/third_party`下的代码应该会更少的多，源码汉化希望在11月前完成。\r\n![方舟编译器源码行数统计](https://user-images.githubusercontent.com/392497/64280784-afefea00-cf06-11e9-9da3-b50629f7f8ba.jpg)\r\n",
            "created_at": "2019-09-04T18:32:26Z",
            "html_url": "https://github.com/program-in-chinese/overview/issues/166#issuecomment-528028244",
            "id": 528028244,
            "issue_url": "https://api.github.com/repos/program-in-chinese/overview/issues/166",
            "node_id": "MDEyOklzc3VlQ29tbWVudDUyODAyODI0NA==",
            "updated_at": "2019-09-04T18:45:42Z",
            "url": "https://api.github.com/repos/program-in-chinese/overview/issues/comments/528028244",
            "user": {
                "avatar_url": "https://avatars1.githubusercontent.com/u/392497?v=4",
                "events_url": "https://api.github.com/users/nobodxbodon/events{/privacy}",
                "followers_url": "https://api.github.com/users/nobodxbodon/followers",
                "following_url": "https://api.github.com/users/nobodxbodon/following{/other_user}",
                "gists_url": "https://api.github.com/users/nobodxbodon/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nobodxbodon",
                "id": 392497,
                "login": "nobodxbodon",
                "node_id": "MDQ6VXNlcjM5MjQ5Nw==",
                "organizations_url": "https://api.github.com/users/nobodxbodon/orgs",
                "received_events_url": "https://api.github.com/users/nobodxbodon/received_events",
                "repos_url": "https://api.github.com/users/nobodxbodon/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nobodxbodon/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nobodxbodon/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nobodxbodon"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "中文重命名`mpl2mpl/src/class_init.cpp`中的标识符后初测结果：生成的`out/bin`下输出文件与英文命名源码生成的相同。这样的话，就可以保证在中文重命名标识符过程中的功能正确性了—**直接比较编译输出文件是否相同**\r\n但是, 对字符串的汉化暂时只能倚靠人工检查. 暂时先在独立的汉化文件中记录英中对应字符串, 打算待所有标识符汉化后, 再进行汉化.\r\n60天汉化5万行(下面为[工具](https://dwheeler.com/sloccount/)细测)代码, 还是很有挑战.\r\n\r\n| 行数 | 目录 | 按语言分行数 |\r\n| ------------- | ------------- | -------------\r\n22338 |  maple_ir   |     cpp=22338\r\n13534 |  maple_me    |    cpp=13534\r\n6315  |  mpl2mpl    |     cpp=6315\r\n3778  |  huawei_secure_c | ansic=3778\r\n2191  |  maple_driver  |  cpp=2191\r\n1116  |  maple_util   |   cpp=840,ansic=276\r\n504   |  mempool    |     cpp=504\r\n353  |   maple_ipa   |    cpp=353\r\n300   |  maple_phase  |   cpp=300",
            "created_at": "2019-09-05T11:31:35Z",
            "html_url": "https://github.com/program-in-chinese/overview/issues/166#issuecomment-528321173",
            "id": 528321173,
            "issue_url": "https://api.github.com/repos/program-in-chinese/overview/issues/166",
            "node_id": "MDEyOklzc3VlQ29tbWVudDUyODMyMTE3Mw==",
            "updated_at": "2019-09-08T22:39:53Z",
            "url": "https://api.github.com/repos/program-in-chinese/overview/issues/comments/528321173",
            "user": {
                "avatar_url": "https://avatars1.githubusercontent.com/u/392497?v=4",
                "events_url": "https://api.github.com/users/nobodxbodon/events{/privacy}",
                "followers_url": "https://api.github.com/users/nobodxbodon/followers",
                "following_url": "https://api.github.com/users/nobodxbodon/following{/other_user}",
                "gists_url": "https://api.github.com/users/nobodxbodon/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nobodxbodon",
                "id": 392497,
                "login": "nobodxbodon",
                "node_id": "MDQ6VXNlcjM5MjQ5Nw==",
                "organizations_url": "https://api.github.com/users/nobodxbodon/orgs",
                "received_events_url": "https://api.github.com/users/nobodxbodon/received_events",
                "repos_url": "https://api.github.com/users/nobodxbodon/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nobodxbodon/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nobodxbodon/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nobodxbodon"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "[手工翻译方舟编译器源码:尝试重命名标识符与文本, 入口部分](https://zhuanlan.zhihu.com/p/81450947)",
            "created_at": "2019-09-06T21:57:10Z",
            "html_url": "https://github.com/program-in-chinese/overview/issues/166#issuecomment-529027953",
            "id": 529027953,
            "issue_url": "https://api.github.com/repos/program-in-chinese/overview/issues/166",
            "node_id": "MDEyOklzc3VlQ29tbWVudDUyOTAyNzk1Mw==",
            "updated_at": "2019-09-06T21:57:10Z",
            "url": "https://api.github.com/repos/program-in-chinese/overview/issues/comments/529027953",
            "user": {
                "avatar_url": "https://avatars1.githubusercontent.com/u/392497?v=4",
                "events_url": "https://api.github.com/users/nobodxbodon/events{/privacy}",
                "followers_url": "https://api.github.com/users/nobodxbodon/followers",
                "following_url": "https://api.github.com/users/nobodxbodon/following{/other_user}",
                "gists_url": "https://api.github.com/users/nobodxbodon/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nobodxbodon",
                "id": 392497,
                "login": "nobodxbodon",
                "node_id": "MDQ6VXNlcjM5MjQ5Nw==",
                "organizations_url": "https://api.github.com/users/nobodxbodon/orgs",
                "received_events_url": "https://api.github.com/users/nobodxbodon/received_events",
                "repos_url": "https://api.github.com/users/nobodxbodon/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nobodxbodon/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nobodxbodon/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nobodxbodon"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "开始对[mir_nodes.h](https://gitee.com/Program-in-Chinese/OpenArkCompiler/blob/master/src/maple_ir/include/mir_nodes.h)中的节点类进行汉化. 各操作语义参考[IR设计文档](https://gitee.com/Program-in-Chinese/OpenArkCompiler/blob/master/doc/MapleIRDesign.md). \r\n\r\n参考节点类对应操作参考[def文件](https://gitee.com/Program-in-Chinese/OpenArkCompiler/blob/master/src/maple_ir/include/opcodes.def), 共180个操作符左右. [汉化补完中](https://github.com/program-in-chinese/overview/wiki/%E6%96%B9%E8%88%9FIR%E8%8A%82%E7%82%B9%E7%B1%BB%E8%AF%8D%E5%85%B8)\r\n\r\n[手工翻译方舟编译器源码: IR相关节点类](https://zhuanlan.zhihu.com/p/81979178)\r\n",
            "created_at": "2019-09-08T22:48:46Z",
            "html_url": "https://github.com/program-in-chinese/overview/issues/166#issuecomment-529248995",
            "id": 529248995,
            "issue_url": "https://api.github.com/repos/program-in-chinese/overview/issues/166",
            "node_id": "MDEyOklzc3VlQ29tbWVudDUyOTI0ODk5NQ==",
            "updated_at": "2019-09-12T22:51:15Z",
            "url": "https://api.github.com/repos/program-in-chinese/overview/issues/comments/529248995",
            "user": {
                "avatar_url": "https://avatars1.githubusercontent.com/u/392497?v=4",
                "events_url": "https://api.github.com/users/nobodxbodon/events{/privacy}",
                "followers_url": "https://api.github.com/users/nobodxbodon/followers",
                "following_url": "https://api.github.com/users/nobodxbodon/following{/other_user}",
                "gists_url": "https://api.github.com/users/nobodxbodon/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nobodxbodon",
                "id": 392497,
                "login": "nobodxbodon",
                "node_id": "MDQ6VXNlcjM5MjQ5Nw==",
                "organizations_url": "https://api.github.com/users/nobodxbodon/orgs",
                "received_events_url": "https://api.github.com/users/nobodxbodon/received_events",
                "repos_url": "https://api.github.com/users/nobodxbodon/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nobodxbodon/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nobodxbodon/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nobodxbodon"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "在进一步进行标识符中文化之前, 打算先提取所有标识符并进行统计, 以预估工作量和细化计划.\r\n\r\n项目源码在`src/`下, 其中这几个目录下的内容不需提取:\r\n  - `src/bin`是二进制文件\r\n  - `src/deplibs`为依赖库\r\n  - `src/third_party`为第三方库\r\n\r\n下面是初步设想的提取结果, 每个源码文件(包括.h, .cpp, .def等等)对应一个提取文件. 以较短的[`src/maple_driver/src/file_utils.cpp`](https://code.opensource.huaweicloud.com/HarmonyOS/OpenArkCompiler/file?ref=master&path=src%252Fmaple_driver%252Fsrc%252Ffile_utils.cpp)为例.\r\n\r\n### 注释\r\n1-14行为注释, 可直接提取全文. 最好标记为注释, 比如这样(方便二次处理)), **具体格式待定, 请多提意见建议**:\r\n```\r\n<注释>\r\n1\r\n2 Copyright (c) [2019] Huawei Technologies Co.,Ltd.All rights reserved.\r\n3\r\n4 OpenArkCompiler is licensed under the Mulan PSL v1. \r\n5 You can use this software according to the terms and conditions of the Mulan PSL v1.\r\n6 You may obtain a copy of Mulan PSL v1 at:\r\n7\r\n8 \thttp://license.coscl.org.cn/MulanPSL \r\n9\r\n10 THIS SOFTWARE IS PROVIDED ON AN \"AS IS\" BASIS, WITHOUT WARRANTIES OF ANY KIND, 11 EITHER \r\n12 EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT, 13 MERCHANTABILITY OR\r\n14 FIT FOR A PARTICULAR PURPOSE.  \r\n15 See the Mulan PSL v1 for more details.  \r\n</注释>\r\n```\r\n### include部分\r\n15-17行为include部分, 提取文件路径部分:\r\n```\r\n<头文件>\r\n15 \"file_utils.h\"\r\n16 <cstdio>\r\n17 \"string_utils.h\"\r\n</头文件>\r\n```\r\n\r\n### 源码主体\r\n将C++关键字过滤(namespace, const, bool, if, return等等), 仅留下标识符, 最好也过滤C++标准库部分(`std::`打头的), 以19-26行为例:\r\n```\r\n<源码>\r\n19 maple\r\n20 FileUtils GetFileName filePath isWithExtension\r\n21 fullFileName StringUtils GetStrAfterLast filePath FileSeperator kFileSeperatorStr\r\n22 isWithExtension\r\n23 fullFileName\r\n24\r\n25 StringUtils GetStrBeforeLast fullFileName\r\n26\r\n</源码>\r\n```\r\n\r\n继续改进的可能(格式需相应修改):\r\n- 添加标识符位置信息, 比如GetFileName在`20行, 30列`.\r\n- 添加语法相关信息, 比如: `GetFileName`是`FileUtils`的公开接口, 参数是`filePath`, `isWithExtension`, 等等. 这应该需要c++语法解析.",
            "created_at": "2019-09-12T22:52:32Z",
            "html_url": "https://github.com/program-in-chinese/overview/issues/166#issuecomment-531036708",
            "id": 531036708,
            "issue_url": "https://api.github.com/repos/program-in-chinese/overview/issues/166",
            "node_id": "MDEyOklzc3VlQ29tbWVudDUzMTAzNjcwOA==",
            "updated_at": "2019-09-13T16:41:00Z",
            "url": "https://api.github.com/repos/program-in-chinese/overview/issues/comments/531036708",
            "user": {
                "avatar_url": "https://avatars1.githubusercontent.com/u/392497?v=4",
                "events_url": "https://api.github.com/users/nobodxbodon/events{/privacy}",
                "followers_url": "https://api.github.com/users/nobodxbodon/followers",
                "following_url": "https://api.github.com/users/nobodxbodon/following{/other_user}",
                "gists_url": "https://api.github.com/users/nobodxbodon/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nobodxbodon",
                "id": 392497,
                "login": "nobodxbodon",
                "node_id": "MDQ6VXNlcjM5MjQ5Nw==",
                "organizations_url": "https://api.github.com/users/nobodxbodon/orgs",
                "received_events_url": "https://api.github.com/users/nobodxbodon/received_events",
                "repos_url": "https://api.github.com/users/nobodxbodon/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nobodxbodon/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nobodxbodon/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nobodxbodon"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "这个汉化项目本身的目标有几种可能. 一是作为汉化源码的实战; 二是作为新创中文编程语言的基础.\r\n两者并不矛盾, 参与者可以自行选择着手点.\r\n\r\n由于将源代码的标识符汉化将会大大降低参与贡献的门槛, 一个比较可能的定位是***作为方舟编译器官方代码库的一个参与门槛更低的镜像***.\r\n\r\n潜在的参与开发者是国内对编译器技术有兴趣, 但又出于某些原因暂时无法参与到主库开发中的开发者. 在非技术优势方面, 想得到一点, 就是作为一些不便向华为贡献代码的开发者, 也许更方便向此库贡献代码.\r\n\r\n在此定位下, 意味着要在官方库之外维护一个分支, 而且本分支最好保持功能上与主库的同步. 也就是说, 可以增加功能(比如对中文关键字的支持), 但不可以减少或影响主库的功能. 这点能够保持多久是个未知数, 当然也和项目能够积累的人气有关.\r\n\r\n个人来说, 打算短期内着重在汉化方舟源代码本身, 并小结出一套比较实用的汉化源码流程及工具.\r\n\r\n现在一个比较大的不定因素是方舟本身的开源程度, 以及测试集的覆盖程度. 当前没有任何自动测试用例, 已在官网提[问题](https://code.opensource.huaweicloud.com/HarmonyOS/OpenArkCompiler/issues/112). 在这种条件下, 只能倚靠手工测试来确保源码汉化后的功能保持不变.",
            "created_at": "2019-09-17T04:58:50Z",
            "html_url": "https://github.com/program-in-chinese/overview/issues/166#issuecomment-532058945",
            "id": 532058945,
            "issue_url": "https://api.github.com/repos/program-in-chinese/overview/issues/166",
            "node_id": "MDEyOklzc3VlQ29tbWVudDUzMjA1ODk0NQ==",
            "updated_at": "2019-09-17T04:58:50Z",
            "url": "https://api.github.com/repos/program-in-chinese/overview/issues/comments/532058945",
            "user": {
                "avatar_url": "https://avatars1.githubusercontent.com/u/392497?v=4",
                "events_url": "https://api.github.com/users/nobodxbodon/events{/privacy}",
                "followers_url": "https://api.github.com/users/nobodxbodon/followers",
                "following_url": "https://api.github.com/users/nobodxbodon/following{/other_user}",
                "gists_url": "https://api.github.com/users/nobodxbodon/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nobodxbodon",
                "id": 392497,
                "login": "nobodxbodon",
                "node_id": "MDQ6VXNlcjM5MjQ5Nw==",
                "organizations_url": "https://api.github.com/users/nobodxbodon/orgs",
                "received_events_url": "https://api.github.com/users/nobodxbodon/received_events",
                "repos_url": "https://api.github.com/users/nobodxbodon/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nobodxbodon/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nobodxbodon/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nobodxbodon"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "在[初步统计](https://gist.github.com/nobodxbodon/5d805f067eadf2cb31adc3a790742e4b)下, 在9492个标识符中, 下面是前X个占总出现次数的比例(比如前71个占总出现次数的10%). 更全表(wiki渲染时间过长导致只能贴部分)[在此](https://github.com/program-in-chinese/overview/wiki/%E6%96%B9%E8%88%9F%E6%A0%87%E8%AF%86%E7%AC%A6%E7%BB%9F%E8%AE%A1):\r\n\r\n| 前几个 | 占总出现次数的比例 |\r\n| -- | --\r\n71 | 10%\r\n224 | 20%\r\n458 | 30%\r\n796 | 40%\r\n1305 | 50%\r\n2039 | 60%\r\n2148 | 70%\r\n4899 | 80%\r\n7195 | 90%\r\n9492 | 100%\r\n\r\n虽然标识符提取和统计过程尚有改进空间, 但应该差距不会太大. 接下去打算从高频标识符开始汉化. 原本打算按照驼峰/下划线分词后再进行统计, 但考虑到分词后的结果对汉化的指导性尚不明显, 决定暂缓.\r\n\r\n在一周内, 对前10%的标识符(70个左右)进行汉化, 并进行总结(包括是否/如何对标识符统计进行改进).",
            "created_at": "2019-09-19T23:16:23Z",
            "html_url": "https://github.com/program-in-chinese/overview/issues/166#issuecomment-533343295",
            "id": 533343295,
            "issue_url": "https://api.github.com/repos/program-in-chinese/overview/issues/166",
            "node_id": "MDEyOklzc3VlQ29tbWVudDUzMzM0MzI5NQ==",
            "updated_at": "2019-09-19T23:16:23Z",
            "url": "https://api.github.com/repos/program-in-chinese/overview/issues/comments/533343295",
            "user": {
                "avatar_url": "https://avatars1.githubusercontent.com/u/392497?v=4",
                "events_url": "https://api.github.com/users/nobodxbodon/events{/privacy}",
                "followers_url": "https://api.github.com/users/nobodxbodon/followers",
                "following_url": "https://api.github.com/users/nobodxbodon/following{/other_user}",
                "gists_url": "https://api.github.com/users/nobodxbodon/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nobodxbodon",
                "id": 392497,
                "login": "nobodxbodon",
                "node_id": "MDQ6VXNlcjM5MjQ5Nw==",
                "organizations_url": "https://api.github.com/users/nobodxbodon/orgs",
                "received_events_url": "https://api.github.com/users/nobodxbodon/received_events",
                "repos_url": "https://api.github.com/users/nobodxbodon/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nobodxbodon/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nobodxbodon/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nobodxbodon"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "在尝试汉化MapleLogger为\"日志\"时, 发现编译错误, 推测时由于`maple_util`目录只有头文件, 编译时依靠现成的`src/deplibs/libmplutil.a`, 而.a文件并无\"日志\"接口, 导致错误.\r\n\r\n想到之前的`StmtNode`命名为`声明节点类`时, 也碰到类似问题:\r\n```\r\nFAILED: /home/xw/git/OpenArkCompiler_cn/out/bin/maple \r\n/home/xw/git/OpenArkCompiler_cn/../OpenArkCompiler/tools/clang+llvm-8.0.0-x86_64-linux-gnu-ubuntu-18.04/bin/clang++ -fPIC -std=c++11 -rdynamic -lpthread -Wl,-z,relro -Wl,-z,now -Wl,-z,noexecstack -fPIE -o /home/xw/git/OpenArkCompiler_cn/out/bin/maple -Wl,--start-group obj/src/maple_driver/src/maple.compiler.o obj/src/maple_driver/src/maple.compiler_factory.o obj/src/maple_driver/src/maple.compiler_selector.o obj/src/maple_driver/src/maple.driver_runner.o obj/src/maple_driver/src/maple.file_utils.o obj/src/maple_driver/src/maple.jbc2mpl_compiler.o obj/src/maple_driver/src/maple.maple.o obj/src/maple_driver/src/maple.maple_comb_compiler.o obj/src/maple_driver/src/maple.mplcg_compiler.o obj/src/maple_driver/src/maple.mpl_options.o lib/64/libHWSecureC.a lib/64/libmplipa.a lib/64/libmplir.a lib/64/libmplme.a /home/xw/git/OpenArkCompiler_cn/out/lib/libmplmewpo.a lib/64/libmpl2mpl.a lib/64/libz_maple_host.a **../src/deplibs/libmplphase.a** ../src/deplibs/libmempool.a ../src/deplibs/libmaple_driverutil.a ../src/deplibs/libmplutil.a -Wl,--end-group \r\nlib/64/libmpl2mpl.a(libmpl2mpl.class_init.o):(.data.rel.ro+0x38): undefined reference to `maple::FuncOptimizeImpl::ProcessBlock(maple::StmtNode1*)'\r\n```\r\n`ProcessBlock`接口在maple_phase下定义, 同样只有头文件, 编译依靠现成的`src/deplibs/libmplphase.a`. 因此重命名后出现链接错误.\r\n\r\n观察`src/deplibs`下的库, 应该对应maple_phase, maple_util, mempool这几个目录下的头文件. `libmaple_driverutil.a`似乎包括maple_util下的OptionParser等等. 这样的话, 这几个库相关接口(包括如果其他接口所带参数的类型在这几个库中定义), 如果重命名后都会导致编译不过.\r\n\r\n这对源码标识符翻译会带来不小的麻烦. 另一方面, 也可以促使首先理清不同目录间的接口依赖关系. 重点在maple_driver, maple_ipa, maple_ir, maple_me, mpl2mpl这几个. 根据[此文](https://zhuanlan.zhihu.com/p/81046562)及后续系列的分析, 基本确定首先从`maple_driver`开始, 而不根据之前的词频分析进行.",
            "created_at": "2019-09-20T21:05:00Z",
            "html_url": "https://github.com/program-in-chinese/overview/issues/166#issuecomment-533708679",
            "id": 533708679,
            "issue_url": "https://api.github.com/repos/program-in-chinese/overview/issues/166",
            "node_id": "MDEyOklzc3VlQ29tbWVudDUzMzcwODY3OQ==",
            "updated_at": "2019-09-20T21:24:28Z",
            "url": "https://api.github.com/repos/program-in-chinese/overview/issues/comments/533708679",
            "user": {
                "avatar_url": "https://avatars1.githubusercontent.com/u/392497?v=4",
                "events_url": "https://api.github.com/users/nobodxbodon/events{/privacy}",
                "followers_url": "https://api.github.com/users/nobodxbodon/followers",
                "following_url": "https://api.github.com/users/nobodxbodon/following{/other_user}",
                "gists_url": "https://api.github.com/users/nobodxbodon/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nobodxbodon",
                "id": 392497,
                "login": "nobodxbodon",
                "node_id": "MDQ6VXNlcjM5MjQ5Nw==",
                "organizations_url": "https://api.github.com/users/nobodxbodon/orgs",
                "received_events_url": "https://api.github.com/users/nobodxbodon/received_events",
                "repos_url": "https://api.github.com/users/nobodxbodon/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nobodxbodon/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nobodxbodon/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nobodxbodon"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "尝试用[批量替换+字典](https://github.com/program-in-chinese/ark_compiler_source_translation)的方式对源码标识符进行自动翻译. [字典](https://github.com/program-in-chinese/ark_compiler_source_translation/blob/master/src/com/codeinchinese/%E6%BA%90%E7%A0%81/%E7%BF%BB%E8%AF%91/%E6%BA%90%E7%A0%81%E5%A4%84%E7%90%86.java#L25)来源于[之前的手动提交](https://gitee.com/Program-in-Chinese/OpenArkCompiler/commits/master). 由于基本没有任何语法分析, 仅用简单的字符串替换+少量注释/字符串识别处理. 阶段小结如下.\r\n\r\n处理的结果与之前的手动修改比较. 生成的diff大约30k, 大约60多处不同. 相对修改的上千处代码来说, 比例很小.\r\n\r\n### 存在的几种问题\r\n1. 同名标识符\r\n有些本地标识符没有被替换的, 如`DefaultOption`中的`mplOptions`. 在汉化过程中, 同名标识符可能属于不同类, 不一定使用同一中文翻译, 这种情况暂时无法处理, 需要语法分析.\r\n统计: 4 8 5 3 1 3 2\r\n`ret`是否全都是\"返回\"的语义需逐个检查. 之前并非全局替换.\r\n统计: 7\r\n还有`OptionParser`中的`Parse`, 也和`Compiler`的`Parse`重名.\r\n统计: 2 1\r\n\r\n2. 注释与字符串\r\n一些标识符在注释/字符串中也应翻译, 如:`ASSERT(i == 0, \"Invalid operand idx in UnaryNode\");`中的`UnaryNode`. \r\n统计: 15 11 1\r\n当前默认不翻译, 是为了避免不完整翻译. 比如避免`\"Error while Exe, cmd: \"`这一字符串被译为`\"Error while 运行, cmd: \"`\r\n\r\n3. 标识符替换的硬伤:\r\n```\r\n-    LogInfo::MapleLogger() << \"/* &\" << GlobalTables::GetGsymTable().GetSymbolFromStidx(m.first.Idx())->求名称();\r\n+    LogInfo::MapleLogger() << \"/* &\" << GlobalTables::GetGsymTable().GetSymbolFromStidx(m.first.Idx())->GetName();\r\n```\r\n此处由于字符串中带有`/*`, 因此被误判为注释因而`GetName`未被翻译\r\n统计: 2 1 2\r\n\r\n4. 命名冲突\r\n```\r\nconst int 运行(const 选项类 &mplOptions, const std::string &options) const;\r\n```\r\n其他多数情况下, mplOptions和options都被翻译成\"选项\", 并无冲突. 但这种情况下, 需要区别.\r\n统计: 1 \r\n\r\n### 问题分析\r\n2可通过只当某些标识符在注释/字符串中出现时翻译来规避.\r\n多数问题(1, 3, 4)需要更进一步的语法分析. 包括字符串/注释的识别, 以及不同类中的同名域的区分等等. 最好借助于现成的C++语言分析器.\r\n\r\n### 自动修改的优点\r\n相比手工修改, 减少了不少低级错误(已在主库修正). 比如手工替换时[未注意大小写](https://gitee.com/Program-in-Chinese/OpenArkCompiler/commit/8fb2df390111bfb87b811ae59a1d67e472f304ca), 以及未对整体标识符[进行替换](https://gitee.com/Program-in-Chinese/OpenArkCompiler/commit/09f53b582b5d0b05600894c5a289c11673413948)等等.\r\n\r\n### 结论 \r\n1. 使用程序进行源码自动修改有可行性, 即使工具很简陋\r\n2. 在找到好用的C++源码分析器之前, 暂停改进此自动修改工具",
            "created_at": "2019-09-30T12:54:54Z",
            "html_url": "https://github.com/program-in-chinese/overview/issues/166#issuecomment-536547819",
            "id": 536547819,
            "issue_url": "https://api.github.com/repos/program-in-chinese/overview/issues/166",
            "node_id": "MDEyOklzc3VlQ29tbWVudDUzNjU0NzgxOQ==",
            "updated_at": "2019-09-30T12:54:54Z",
            "url": "https://api.github.com/repos/program-in-chinese/overview/issues/comments/536547819",
            "user": {
                "avatar_url": "https://avatars1.githubusercontent.com/u/392497?v=4",
                "events_url": "https://api.github.com/users/nobodxbodon/events{/privacy}",
                "followers_url": "https://api.github.com/users/nobodxbodon/followers",
                "following_url": "https://api.github.com/users/nobodxbodon/following{/other_user}",
                "gists_url": "https://api.github.com/users/nobodxbodon/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nobodxbodon",
                "id": 392497,
                "login": "nobodxbodon",
                "node_id": "MDQ6VXNlcjM5MjQ5Nw==",
                "organizations_url": "https://api.github.com/users/nobodxbodon/orgs",
                "received_events_url": "https://api.github.com/users/nobodxbodon/received_events",
                "repos_url": "https://api.github.com/users/nobodxbodon/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nobodxbodon/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nobodxbodon/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nobodxbodon"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "将楼上小结整理在[尝试自动批量翻译方舟编译器源码中的标识符](https://zhuanlan.zhihu.com/p/85085837). 暂时搁置, 希望找到合适的分析器.\r\n打算重拾 #165 和 #97 . ",
            "created_at": "2019-10-03T06:58:16Z",
            "html_url": "https://github.com/program-in-chinese/overview/issues/166#issuecomment-537814445",
            "id": 537814445,
            "issue_url": "https://api.github.com/repos/program-in-chinese/overview/issues/166",
            "node_id": "MDEyOklzc3VlQ29tbWVudDUzNzgxNDQ0NQ==",
            "updated_at": "2019-10-03T06:58:16Z",
            "url": "https://api.github.com/repos/program-in-chinese/overview/issues/comments/537814445",
            "user": {
                "avatar_url": "https://avatars1.githubusercontent.com/u/392497?v=4",
                "events_url": "https://api.github.com/users/nobodxbodon/events{/privacy}",
                "followers_url": "https://api.github.com/users/nobodxbodon/followers",
                "following_url": "https://api.github.com/users/nobodxbodon/following{/other_user}",
                "gists_url": "https://api.github.com/users/nobodxbodon/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nobodxbodon",
                "id": 392497,
                "login": "nobodxbodon",
                "node_id": "MDQ6VXNlcjM5MjQ5Nw==",
                "organizations_url": "https://api.github.com/users/nobodxbodon/orgs",
                "received_events_url": "https://api.github.com/users/nobodxbodon/received_events",
                "repos_url": "https://api.github.com/users/nobodxbodon/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nobodxbodon/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nobodxbodon/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nobodxbodon"
            }
        },
        {
            "author_association": "MEMBER",
            "body": "方舟repo的issue[提到了](https://gitee.com/harmonyos/OpenArkCompiler/issues/I14O1F)下一步开源大概在明年上半年。可能测试框架也会[同时开源](https://gitee.com/harmonyos/OpenArkCompiler/issues/I14OIZ)。",
            "created_at": "2019-11-12T07:30:52Z",
            "html_url": "https://github.com/program-in-chinese/overview/issues/166#issuecomment-552770368",
            "id": 552770368,
            "issue_url": "https://api.github.com/repos/program-in-chinese/overview/issues/166",
            "node_id": "MDEyOklzc3VlQ29tbWVudDU1Mjc3MDM2OA==",
            "updated_at": "2019-11-12T07:30:52Z",
            "url": "https://api.github.com/repos/program-in-chinese/overview/issues/comments/552770368",
            "user": {
                "avatar_url": "https://avatars1.githubusercontent.com/u/392497?v=4",
                "events_url": "https://api.github.com/users/nobodxbodon/events{/privacy}",
                "followers_url": "https://api.github.com/users/nobodxbodon/followers",
                "following_url": "https://api.github.com/users/nobodxbodon/following{/other_user}",
                "gists_url": "https://api.github.com/users/nobodxbodon/gists{/gist_id}",
                "gravatar_id": "",
                "html_url": "https://github.com/nobodxbodon",
                "id": 392497,
                "login": "nobodxbodon",
                "node_id": "MDQ6VXNlcjM5MjQ5Nw==",
                "organizations_url": "https://api.github.com/users/nobodxbodon/orgs",
                "received_events_url": "https://api.github.com/users/nobodxbodon/received_events",
                "repos_url": "https://api.github.com/users/nobodxbodon/repos",
                "site_admin": false,
                "starred_url": "https://api.github.com/users/nobodxbodon/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/nobodxbodon/subscriptions",
                "type": "User",
                "url": "https://api.github.com/users/nobodxbodon"
            }
        }
    ],
    "comments": 11,
    "comments_url": "https://api.github.com/repos/program-in-chinese/overview/issues/166/comments",
    "created_at": "2019-09-04T09:45:52Z",
    "event_data": [],
    "events_url": "https://api.github.com/repos/program-in-chinese/overview/issues/166/events",
    "html_url": "https://github.com/program-in-chinese/overview/issues/166",
    "id": 489055295,
    "labels": [],
    "labels_url": "https://api.github.com/repos/program-in-chinese/overview/issues/166/labels{/name}",
    "locked": false,
    "milestone": null,
    "node_id": "MDU6SXNzdWU0ODkwNTUyOTU=",
    "number": 166,
    "repository_url": "https://api.github.com/repos/program-in-chinese/overview",
    "state": "open",
    "title": "方舟编译器中文化的相关话题",
    "updated_at": "2019-11-12T07:30:52Z",
    "url": "https://api.github.com/repos/program-in-chinese/overview/issues/166",
    "user": {
        "avatar_url": "https://avatars1.githubusercontent.com/u/392497?v=4",
        "events_url": "https://api.github.com/users/nobodxbodon/events{/privacy}",
        "followers_url": "https://api.github.com/users/nobodxbodon/followers",
        "following_url": "https://api.github.com/users/nobodxbodon/following{/other_user}",
        "gists_url": "https://api.github.com/users/nobodxbodon/gists{/gist_id}",
        "gravatar_id": "",
        "html_url": "https://github.com/nobodxbodon",
        "id": 392497,
        "login": "nobodxbodon",
        "node_id": "MDQ6VXNlcjM5MjQ5Nw==",
        "organizations_url": "https://api.github.com/users/nobodxbodon/orgs",
        "received_events_url": "https://api.github.com/users/nobodxbodon/received_events",
        "repos_url": "https://api.github.com/users/nobodxbodon/repos",
        "site_admin": false,
        "starred_url": "https://api.github.com/users/nobodxbodon/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/nobodxbodon/subscriptions",
        "type": "User",
        "url": "https://api.github.com/users/nobodxbodon"
    }
}